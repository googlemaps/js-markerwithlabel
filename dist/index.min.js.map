{"version":3,"file":"index.min.js","sources":["../src/util.ts","../src/overlay-view-safe.ts","../src/label.ts","../src/marker-safe.ts","../src/marker.ts"],"sourcesContent":["/**\n * Copyright 2020 Google LLC. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Extends an object's prototype by another's.\n *\n * @param type1 The Type to be extended.\n * @param type2 The Type to extend with.\n * @ignore\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function extend(type1, type2) {\n    // eslint-disable-next-line prefer-const\n    for (let property in type2.prototype) {\n        type1.prototype[property] = type2.prototype[property];\n    }\n}\nexport function abortEvent(e) {\n    e = e || window.event;\n    if (e.stopPropagation) {\n        e.stopPropagation();\n    }\n    else {\n        e.cancelBubble = true;\n    }\n    if (e.preventDefault) {\n        e.preventDefault();\n    }\n    else {\n        e.returnValue = false;\n    }\n}\nexport function stopPropagation(e) {\n    e = e || window.event;\n    if (e.stopPropagation) {\n        e.stopPropagation();\n    }\n    else {\n        e.cancelBubble = true;\n    }\n}\nexport function omit(o, keys) {\n    const x = Object.assign({}, o);\n    keys.forEach((k) => delete x[k]);\n    return x;\n}\n//# sourceMappingURL=util.js.map","/**\n * Copyright 2019 Google LLC. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { extend } from \"./util\";\n/**\n * @ignore\n */\nexport class OverlayViewSafe {\n    constructor() {\n        extend(OverlayViewSafe, google.maps.OverlayView);\n    }\n}\n//# sourceMappingURL=overlay-view-safe.js.map","/**\n * Copyright 2020 Google LLC. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { OverlayViewSafe } from \"./overlay-view-safe\";\nconst BLOCK = \"block\";\nconst NONE = \"none\";\nconst ABSOLUTE = \"absolute\";\nconst CURSOR = \"pointer\";\nconst LABEL_CLASS = \"marker-label\";\nconst EVENT_CLASS = \"marker-label-event\";\nconst EVENT_DIV_OPACITY = \"0.01\";\nexport class Label extends OverlayViewSafe {\n    constructor({ clickable = true, cursor = CURSOR, draggable = true, labelAnchor = new google.maps.Point(0, 0), labelClass = LABEL_CLASS, labelContent, position, opacity = 1, map, labelZIndexOffset = 1, visible = true, zIndex = 0, }) {\n        super();\n        this.createElements();\n        this.anchor = labelAnchor;\n        this.content = labelContent;\n        this.className = labelClass;\n        this.clickable = clickable;\n        this.cursor = cursor;\n        this.draggable = draggable;\n        if (position instanceof google.maps.LatLng) {\n            this.position = position;\n        }\n        else {\n            this.position = new google.maps.LatLng(position);\n        }\n        this.opacity = opacity;\n        this.visible = visible;\n        this.zIndex = zIndex;\n        this.zIndexOffset = labelZIndexOffset;\n        if (map) {\n            this.setMap(map);\n        }\n    }\n    get element() {\n        return this.labelDiv;\n    }\n    get content() {\n        return this.labelDiv.innerHTML;\n    }\n    set content(content) {\n        if (typeof content === \"string\") {\n            this.labelDiv.innerHTML = content;\n            this.eventDiv.innerHTML = content;\n        }\n        else {\n            this.labelDiv.innerHTML = \"\";\n            this.labelDiv.appendChild(content);\n            this.eventDiv.innerHTML = \"\";\n            this.eventDiv.appendChild(content.cloneNode(true));\n        }\n    }\n    /**\n     * Get the class of the label div elements.\n     *\n     * **Note**: This will always return the default `marker-label`.\n     */\n    get className() {\n        return this.labelDiv.className;\n    }\n    /**\n     * Set the class of the label div elements.\n     *\n     * **Note**: The default `marker-label` will additionaly be added.\n     */\n    set className(className) {\n        this.labelDiv.className = className;\n        this.labelDiv.classList.add(LABEL_CLASS);\n        this.eventDiv.className = className;\n        this.eventDiv.classList.add(EVENT_CLASS);\n    }\n    set cursor(cursor) {\n        this.hoverCursor = cursor;\n        if (this.isInteractive) {\n            this.eventDiv.style.cursor = cursor;\n        }\n    }\n    get cursor() {\n        return this.isInteractive ? this.hoverCursor : \"inherit\";\n    }\n    get isInteractive() {\n        return this.draggable || this.clickable;\n    }\n    set opacity(opacity) {\n        this.labelDiv.style.opacity = String(opacity);\n    }\n    set title(title) {\n        this.eventDiv.title = title;\n    }\n    set visible(visible) {\n        if (visible) {\n            this.labelDiv.style.display = BLOCK;\n            this.eventDiv.style.display = BLOCK;\n        }\n        else {\n            this.labelDiv.style.display = NONE;\n            this.eventDiv.style.display = NONE;\n        }\n    }\n    onAdd() {\n        this.getPanes().markerLayer.appendChild(this.labelDiv);\n        this.getPanes().overlayMouseTarget.appendChild(this.eventDiv);\n    }\n    draw() {\n        const coordinates = this.getProjection().fromLatLngToDivPixel(this.position);\n        const x = Math.round(coordinates.x + this.anchor.x);\n        const y = Math.round(coordinates.y + this.anchor.y);\n        this.labelDiv.style.left = `${x}px`;\n        this.labelDiv.style.top = `${y}px`;\n        this.eventDiv.style.left = this.labelDiv.style.left;\n        this.eventDiv.style.top = this.labelDiv.style.top;\n        // If zIndex is not defined, used vertical position on map.\n        const zIndex = (this.zIndex || Math.ceil(coordinates.y)) + this.zIndexOffset;\n        this.labelDiv.style.zIndex = String(zIndex);\n        this.eventDiv.style.zIndex = String(zIndex);\n        // If not interactive set display none on event div\n        this.eventDiv.style.display = this.isInteractive\n            ? this.eventDiv.style.display\n            : NONE;\n        this.eventDiv.style.cursor = this.cursor;\n    }\n    addDomListener(event, handler) {\n        this.eventDiv.addEventListener(event, handler);\n        return { remove: () => this.eventDiv.removeEventListener(event, handler) };\n    }\n    onRemove() {\n        this.labelDiv.parentNode.removeChild(this.labelDiv);\n        this.eventDiv.parentNode.removeChild(this.eventDiv);\n    }\n    createElements() {\n        this.labelDiv = document.createElement(\"div\");\n        this.eventDiv = document.createElement(\"div\");\n        // default styles for both divs\n        this.labelDiv.style.position = ABSOLUTE;\n        this.eventDiv.style.position = ABSOLUTE;\n        // default styles for eventDiv\n        this.eventDiv.style.opacity = EVENT_DIV_OPACITY;\n    }\n}\n//# sourceMappingURL=label.js.map","/**\n * Copyright 2020 Google LLC. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { extend } from \"./util\";\n/**\n * @ignore\n */\nexport class MarkerSafe {\n    constructor(options) {\n        extend(MarkerSafe, google.maps.Marker);\n        google.maps.Marker.call(this, options);\n    }\n}\n//# sourceMappingURL=marker-safe.js.map","/**\n * Copyright 2020 Google LLC. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { abortEvent, omit, stopPropagation } from \"./util\";\nimport { Label } from \"./label\";\nimport { MarkerSafe } from \"./marker-safe\";\nconst CLICK = \"click\";\nconst DBLCLICK = \"dblclick\";\nconst DRAG = \"drag\";\nconst DRAGEND = \"dragend\";\nconst DRAGSTART = \"dragstart\";\nconst MOUSEDOWN = \"mousedown\";\nconst MOUSEMOVE = \"mousemove\";\nconst MOUSEOVER = \"mouseover\";\nconst MOUSEOUT = \"mouseout\";\nconst MOUSEUP = \"mouseup\";\nexport class MarkerWithLabel extends MarkerSafe {\n    constructor(options) {\n        // need to omit extended options to Marker class that collide with setters/getters\n        super(omit(options, [\n            \"labelAnchor\",\n            \"labelZIndexOffset\",\n            \"labelClass\",\n            \"labelContent\",\n        ]));\n        this.isTouchScreen = false;\n        this.isDraggingLabel = false;\n        this.isMouseDownOnLabel = false;\n        this.shouldIgnoreClick = false;\n        this.label = new Label(Object.assign({}, options));\n        this.propertyListeners = [\n            google.maps.event.addListener(this, \"clickable_changed\", this.handleClickableOrDraggableChange),\n            google.maps.event.addListener(this, \"cursor_changed\", () => {\n                this.label.cursor = this.getCursor();\n            }),\n            google.maps.event.addListener(this, \"draggable_changed\", this.handleClickableOrDraggableChange),\n            google.maps.event.addListener(this, \"position_changed\", () => {\n                this.label.position = this.getPosition();\n            }),\n            google.maps.event.addListener(this, \"opacity_changed\", () => {\n                this.label.opacity = this.getOpacity();\n            }),\n            google.maps.event.addListener(this, \"title_changed\", () => {\n                this.label.title = this.getTitle();\n            }),\n            google.maps.event.addListener(this, \"visible_changed\", () => {\n                this.label.visible = this.getVisible();\n            }),\n            google.maps.event.addListener(this, \"zindex_changed\", () => {\n                this.label.zIndex = this.getZIndex();\n                this.label.draw();\n            }),\n        ];\n    }\n    get isInteractive() {\n        return this.getClickable() || this.getDraggable();\n    }\n    /**\n     * Gets label element.\n     */\n    get labelElement() {\n        return this.label.element;\n    }\n    /**\n     * Gets label `innerHTML`. See {@link Marker.labelElement} for\n     * accessing the HTMLElement instead.\n     */\n    get labelContent() {\n        return this.label.content;\n    }\n    set labelContent(content) {\n        this.label.content = content;\n    }\n    get labelClass() {\n        return this.label.className;\n    }\n    set labelClass(className) {\n        this.label.className = className;\n    }\n    setMap(map) {\n        super.setMap(map);\n        setTimeout(() => {\n            this.label.setMap(map);\n            this.removeInteractiveListeners();\n            if (map) {\n                this.addInteractiveListeners();\n            }\n        });\n    }\n    handleClickableOrDraggableChange() {\n        this.label.clickable = this.getClickable();\n        this.label.draggable = this.getDraggable();\n        if (this.isInteractive) {\n            this.addInteractiveListeners();\n        }\n        else {\n            this.removeInteractiveListeners();\n        }\n    }\n    removeInteractiveListeners() {\n        if (this.interactiveListeners) {\n            this.interactiveListeners.forEach((l) => google.maps.event.removeListener(l));\n            this.interactiveListeners = null;\n        }\n    }\n    addInteractiveListeners() {\n        if (!this.interactiveListeners) {\n            // If the map is not set, do not set listeners\n            if (!this.getMap()) {\n                return;\n            }\n            this.interactiveListeners = [\n                this.label.addDomListener(MOUSEOVER, (e) => {\n                    if (!this.isTouchScreen) {\n                        google.maps.event.trigger(this, MOUSEOVER, {\n                            latLng: this.getPosition(),\n                        });\n                        abortEvent(e);\n                    }\n                }),\n                this.label.addDomListener(MOUSEOUT, (e) => {\n                    if (!this.isTouchScreen) {\n                        // wrap the mouseout event in a timeout to avoid the case where mouseup occurs out\n                        if (this.mouseOutTimeout) {\n                            clearTimeout(this.mouseOutTimeout);\n                        }\n                        if (this.isMouseDownOnLabel) {\n                            this.mouseOutTimeout = setTimeout(() => {\n                                if (this.isMouseDownOnLabel) {\n                                    this.isMouseDownOnLabel = false;\n                                    google.maps.event.trigger(this, MOUSEUP, {\n                                        latLng: this.getPosition(),\n                                    });\n                                    if (this.isDraggingLabel) {\n                                        this.isDraggingLabel = false;\n                                        this.shouldIgnoreClick = true;\n                                        google.maps.event.trigger(this, DRAGEND, {\n                                            latLng: this.getPosition(),\n                                        });\n                                    }\n                                }\n                                google.maps.event.trigger(this, MOUSEOUT, {\n                                    latLng: this.getPosition(),\n                                });\n                            }, 200);\n                        }\n                        else {\n                            google.maps.event.trigger(this, MOUSEOUT, {\n                                latLng: this.getPosition(),\n                            });\n                        }\n                        abortEvent(e);\n                    }\n                }),\n                this.label.addDomListener(MOUSEDOWN, (e) => {\n                    this.isDraggingLabel = false;\n                    this.isMouseDownOnLabel = true;\n                    google.maps.event.trigger(this, MOUSEDOWN, {\n                        latLng: this.getPosition(),\n                    });\n                    if (!this.isTouchScreen) {\n                        abortEvent(e);\n                    }\n                }),\n                this.label.addDomListener(MOUSEUP, (e) => {\n                    const markerEvent = { latLng: this.getPosition() };\n                    if (this.isMouseDownOnLabel) {\n                        this.isMouseDownOnLabel = false;\n                        google.maps.event.trigger(this, MOUSEUP, markerEvent);\n                        if (this.isDraggingLabel) {\n                            this.isDraggingLabel = false;\n                            this.shouldIgnoreClick = true;\n                            google.maps.event.trigger(this, DRAGEND, markerEvent);\n                        }\n                        if (!this.getDraggable()) {\n                            abortEvent(e);\n                        }\n                    }\n                }),\n                this.label.addDomListener(CLICK, (e) => {\n                    if (this.shouldIgnoreClick) {\n                        this.shouldIgnoreClick = false;\n                    }\n                    else {\n                        google.maps.event.trigger(this, CLICK, {\n                            latLng: this.getPosition(),\n                        });\n                    }\n                    abortEvent(e);\n                }),\n                this.label.addDomListener(DBLCLICK, (e) => {\n                    google.maps.event.trigger(this, DBLCLICK, {\n                        latLng: this.getPosition(),\n                    });\n                    abortEvent(e);\n                }),\n                google.maps.event.addListener(this.getMap(), MOUSEMOVE, (e) => {\n                    if (this.isMouseDownOnLabel && this.getDraggable()) {\n                        if (this.isDraggingLabel) {\n                            // Adjust for offset\n                            const position = new google.maps.LatLng(e.latLng.lat() - this.eventOffset.y, e.latLng.lng() - this.eventOffset.x);\n                            // this.setPosition(position);\n                            google.maps.event.trigger(this, DRAG, Object.assign(Object.assign({}, e), { latLng: position }));\n                        }\n                        else {\n                            this.isDraggingLabel = true;\n                            // Calculate and store event offset from marker position\n                            this.eventOffset = new google.maps.Point(e.latLng.lng() - this.getPosition().lng(), e.latLng.lat() - this.getPosition().lat());\n                            google.maps.event.trigger(this, DRAGSTART, Object.assign(Object.assign({}, e), { latLng: this.getPosition() }));\n                        }\n                    }\n                }),\n                google.maps.event.addListener(this, DRAGSTART, () => {\n                    this.label.zIndex = 1000000;\n                }),\n                google.maps.event.addListener(this, DRAG, ({ latLng }) => {\n                    this.setPosition(latLng);\n                }),\n                google.maps.event.addListener(this, DRAGEND, () => {\n                    this.label.zIndex = this.getZIndex();\n                    this.label.draw();\n                }),\n                // Prevent touch events from passing through the label DIV to the underlying map.\n                this.label.addDomListener(\"touchstart\", (e) => {\n                    this.isTouchScreen = true;\n                    stopPropagation(e);\n                }),\n                this.label.addDomListener(\"touchmove\", (e) => {\n                    stopPropagation(e);\n                }),\n                this.label.addDomListener(\"touchend\", (e) => {\n                    stopPropagation(e);\n                }),\n            ];\n        }\n    }\n}\n//# sourceMappingURL=marker.js.map"],"names":["extend","type1","type2","property","prototype","abortEvent","e","window","event","stopPropagation","cancelBubble","preventDefault","returnValue","OverlayViewSafe","constructor","google","maps","OverlayView","BLOCK","NONE","ABSOLUTE","CURSOR","LABEL_CLASS","Label","_ref","clickable","cursor","draggable","labelAnchor","Point","labelClass","labelContent","position","opacity","map","labelZIndexOffset","visible","zIndex","super","this","createElements","anchor","content","className","LatLng","zIndexOffset","setMap","element","labelDiv","innerHTML","eventDiv","appendChild","cloneNode","classList","add","hoverCursor","isInteractive","style","String","title","display","onAdd","getPanes","markerLayer","overlayMouseTarget","draw","coordinates","getProjection","fromLatLngToDivPixel","x","Math","round","y","left","top","ceil","addDomListener","handler","addEventListener","remove","removeEventListener","onRemove","parentNode","removeChild","document","createElement","MarkerSafe","options","Marker","call","CLICK","DBLCLICK","DRAG","DRAGEND","DRAGSTART","MOUSEDOWN","MOUSEOVER","MOUSEOUT","MOUSEUP","o","keys","Object","assign","forEach","k","omit","isTouchScreen","isDraggingLabel","isMouseDownOnLabel","shouldIgnoreClick","label","propertyListeners","addListener","handleClickableOrDraggableChange","getCursor","getPosition","getOpacity","getTitle","getVisible","getZIndex","getClickable","getDraggable","labelElement","setTimeout","removeInteractiveListeners","addInteractiveListeners","interactiveListeners","l","removeListener","getMap","trigger","latLng","mouseOutTimeout","clearTimeout","markerEvent","lat","eventOffset","lng","setPosition"],"mappings":"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"}