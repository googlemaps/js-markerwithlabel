!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).MarkerWithLabel=t()}(this,(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?a(e):t}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=i(e);if(t){var o=i(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}var u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},f=function(e){return e&&e.Math==Math&&e},g=f("object"==typeof globalThis&&globalThis)||f("object"==typeof window&&window)||f("object"==typeof self&&self)||f("object"==typeof u&&u)||function(){return this}()||Function("return this")(),v={},p=function(e){try{return!!e()}catch(e){return!0}},h=!p((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),d=Function.prototype.call,b=d.bind?d.bind(d):function(){return d.apply(d,arguments)},y={},m={}.propertyIsEnumerable,L=Object.getOwnPropertyDescriptor,D=L&&!m.call({1:2},1);y.f=D?function(e){var t=L(this,e);return!!t&&t.enumerable}:m;var O,S,w=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},j=Function.prototype,P=j.bind,k=j.call,T=P&&P.bind(k),M=P?function(e){return e&&T(k,e)}:function(e){return e&&function(){return k.apply(e,arguments)}},C=M,I=C({}.toString),x=C("".slice),E=function(e){return x(I(e),8,-1)},_=M,R=p,A=E,N=g.Object,z=_("".split),F=R((function(){return!N("z").propertyIsEnumerable(0)}))?function(e){return"String"==A(e)?z(e,""):N(e)}:N,G=g.TypeError,V=function(e){if(null==e)throw G("Can't call method on "+e);return e},H=F,B=V,q=function(e){return H(B(e))},Z=function(e){return"function"==typeof e},U=Z,W=function(e){return"object"==typeof e?null!==e:U(e)},K=g,X=Z,Y=function(e){return X(e)?e:void 0},$=function(e,t){return arguments.length<2?Y(K[e]):K[e]&&K[e][t]},J=M({}.isPrototypeOf),Q=g,ee=$("navigator","userAgent")||"",te=Q.process,ne=Q.Deno,re=te&&te.versions||ne&&ne.version,ie=re&&re.v8;ie&&(S=(O=ie.split("."))[0]>0&&O[0]<4?1:+(O[0]+O[1])),!S&&ee&&(!(O=ee.match(/Edge\/(\d+)/))||O[1]>=74)&&(O=ee.match(/Chrome\/(\d+)/))&&(S=+O[1]);var oe=S,ae=oe,se=p,ce=!!Object.getOwnPropertySymbols&&!se((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&ae&&ae<41})),le=ce&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ue=$,fe=Z,ge=J,ve=le,pe=g.Object,he=ve?function(e){return"symbol"==typeof e}:function(e){var t=ue("Symbol");return fe(t)&&ge(t.prototype,pe(e))},de=g.String,be=Z,ye=function(e){try{return de(e)}catch(e){return"Object"}},me=g.TypeError,Le=function(e){if(be(e))return e;throw me(ye(e)+" is not a function")},De=Le,Oe=b,Se=Z,we=W,je=g.TypeError,Pe={exports:{}},ke=g,Te=Object.defineProperty,Me=function(e,t){try{Te(ke,e,{value:t,configurable:!0,writable:!0})}catch(n){ke[e]=t}return t},Ce=Me,Ie="__core-js_shared__",xe=g[Ie]||Ce(Ie,{}),Ee=xe;(Pe.exports=function(e,t){return Ee[e]||(Ee[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.19.1",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"});var _e=V,Re=g.Object,Ae=function(e){return Re(_e(e))},Ne=Ae,ze=M({}.hasOwnProperty),Fe=Object.hasOwn||function(e,t){return ze(Ne(e),t)},Ge=M,Ve=0,He=Math.random(),Be=Ge(1..toString),qe=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Be(++Ve+He,36)},Ze=g,Ue=Pe.exports,We=Fe,Ke=qe,Xe=ce,Ye=le,$e=Ue("wks"),Je=Ze.Symbol,Qe=Je&&Je.for,et=Ye?Je:Je&&Je.withoutSetter||Ke,tt=function(e){if(!We($e,e)||!Xe&&"string"!=typeof $e[e]){var t="Symbol."+e;Xe&&We(Je,e)?$e[e]=Je[e]:$e[e]=Ye&&Qe?Qe(t):et(t)}return $e[e]},nt=b,rt=W,it=he,ot=function(e,t){var n=e[t];return null==n?void 0:De(n)},at=function(e,t){var n,r;if("string"===t&&Se(n=e.toString)&&!we(r=Oe(n,e)))return r;if(Se(n=e.valueOf)&&!we(r=Oe(n,e)))return r;if("string"!==t&&Se(n=e.toString)&&!we(r=Oe(n,e)))return r;throw je("Can't convert object to primitive value")},st=tt,ct=g.TypeError,lt=st("toPrimitive"),ut=function(e,t){if(!rt(e)||it(e))return e;var n,r=ot(e,lt);if(r){if(void 0===t&&(t="default"),n=nt(r,e,t),!rt(n)||it(n))return n;throw ct("Can't convert object to primitive value")}return void 0===t&&(t="number"),at(e,t)},ft=he,gt=function(e){var t=ut(e,"string");return ft(t)?t:t+""},vt=W,pt=g.document,ht=vt(pt)&&vt(pt.createElement),dt=function(e){return ht?pt.createElement(e):{}},bt=dt,yt=!h&&!p((function(){return 7!=Object.defineProperty(bt("div"),"a",{get:function(){return 7}}).a})),mt=h,Lt=b,Dt=y,Ot=w,St=q,wt=gt,jt=Fe,Pt=yt,kt=Object.getOwnPropertyDescriptor;v.f=mt?kt:function(e,t){if(e=St(e),t=wt(t),Pt)try{return kt(e,t)}catch(e){}if(jt(e,t))return Ot(!Lt(Dt.f,e,t),e[t])};var Tt={},Mt=g,Ct=W,It=Mt.String,xt=Mt.TypeError,Et=function(e){if(Ct(e))return e;throw xt(It(e)+" is not an object")},_t=h,Rt=yt,At=Et,Nt=gt,zt=g.TypeError,Ft=Object.defineProperty;Tt.f=_t?Ft:function(e,t,n){if(At(e),t=Nt(t),At(n),Rt)try{return Ft(e,t,n)}catch(e){}if("get"in n||"set"in n)throw zt("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var Gt=Tt,Vt=w,Ht=h?function(e,t,n){return Gt.f(e,t,Vt(1,n))}:function(e,t,n){return e[t]=n,e},Bt={exports:{}},qt=Z,Zt=xe,Ut=M(Function.toString);qt(Zt.inspectSource)||(Zt.inspectSource=function(e){return Ut(e)});var Wt,Kt,Xt,Yt=Zt.inspectSource,$t=Z,Jt=Yt,Qt=g.WeakMap,en=$t(Qt)&&/native code/.test(Jt(Qt)),tn=Pe.exports,nn=qe,rn=tn("keys"),on={},an=en,sn=g,cn=M,ln=W,un=Ht,fn=Fe,gn=xe,vn=function(e){return rn[e]||(rn[e]=nn(e))},pn=on,hn="Object already initialized",dn=sn.TypeError,bn=sn.WeakMap;if(an||gn.state){var yn=gn.state||(gn.state=new bn),mn=cn(yn.get),Ln=cn(yn.has),Dn=cn(yn.set);Wt=function(e,t){if(Ln(yn,e))throw new dn(hn);return t.facade=e,Dn(yn,e,t),t},Kt=function(e){return mn(yn,e)||{}},Xt=function(e){return Ln(yn,e)}}else{var On=vn("state");pn[On]=!0,Wt=function(e,t){if(fn(e,On))throw new dn(hn);return t.facade=e,un(e,On,t),t},Kt=function(e){return fn(e,On)?e[On]:{}},Xt=function(e){return fn(e,On)}}var Sn={set:Wt,get:Kt,has:Xt,enforce:function(e){return Xt(e)?Kt(e):Wt(e,{})},getterFor:function(e){return function(t){var n;if(!ln(t)||(n=Kt(t)).type!==e)throw dn("Incompatible receiver, "+e+" required");return n}}},wn=h,jn=Fe,Pn=Function.prototype,kn=wn&&Object.getOwnPropertyDescriptor,Tn=jn(Pn,"name"),Mn=Tn&&"something"===function(){}.name,Cn=Tn&&(!wn||wn&&kn(Pn,"name").configurable),In=g,xn=Z,En=Fe,_n=Ht,Rn=Me,An=Yt,Nn={EXISTS:Tn,PROPER:Mn,CONFIGURABLE:Cn}.CONFIGURABLE,zn=Sn.get,Fn=Sn.enforce,Gn=String(String).split("String");(Bt.exports=function(e,t,n,r){var i,o=!!r&&!!r.unsafe,a=!!r&&!!r.enumerable,s=!!r&&!!r.noTargetGet,c=r&&void 0!==r.name?r.name:t;xn(n)&&("Symbol("===String(c).slice(0,7)&&(c="["+String(c).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!En(n,"name")||Nn&&n.name!==c)&&_n(n,"name",c),(i=Fn(n)).source||(i.source=Gn.join("string"==typeof c?c:""))),e!==In?(o?!s&&e[t]&&(a=!0):delete e[t],a?e[t]=n:_n(e,t,n)):a?e[t]=n:Rn(t,n)})(Function.prototype,"toString",(function(){return xn(this)&&zn(this).source||An(this)}));var Vn={},Hn=Math.ceil,Bn=Math.floor,qn=function(e){var t=+e;return t!=t||0===t?0:(t>0?Bn:Hn)(t)},Zn=qn,Un=Math.max,Wn=Math.min,Kn=qn,Xn=Math.min,Yn=function(e){return e>0?Xn(Kn(e),9007199254740991):0},$n=function(e){return Yn(e.length)},Jn=q,Qn=function(e,t){var n=Zn(e);return n<0?Un(n+t,0):Wn(n,t)},er=$n,tr=function(e){return function(t,n,r){var i,o=Jn(t),a=er(o),s=Qn(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},nr={includes:tr(!0),indexOf:tr(!1)},rr=Fe,ir=q,or=nr.indexOf,ar=on,sr=M([].push),cr=function(e,t){var n,r=ir(e),i=0,o=[];for(n in r)!rr(ar,n)&&rr(r,n)&&sr(o,n);for(;t.length>i;)rr(r,n=t[i++])&&(~or(o,n)||sr(o,n));return o},lr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ur=cr,fr=lr.concat("length","prototype");Vn.f=Object.getOwnPropertyNames||function(e){return ur(e,fr)};var gr={};gr.f=Object.getOwnPropertySymbols;var vr=$,pr=Vn,hr=gr,dr=Et,br=M([].concat),yr=vr("Reflect","ownKeys")||function(e){var t=pr.f(dr(e)),n=hr.f;return n?br(t,n(e)):t},mr=Fe,Lr=yr,Dr=v,Or=Tt,Sr=p,wr=Z,jr=/#|\.prototype\./,Pr=function(e,t){var n=Tr[kr(e)];return n==Cr||n!=Mr&&(wr(t)?Sr(t):!!t)},kr=Pr.normalize=function(e){return String(e).replace(jr,".").toLowerCase()},Tr=Pr.data={},Mr=Pr.NATIVE="N",Cr=Pr.POLYFILL="P",Ir=Pr,xr=g,Er=v.f,_r=Ht,Rr=Bt.exports,Ar=Me,Nr=function(e,t){for(var n=Lr(t),r=Or.f,i=Dr.f,o=0;o<n.length;o++){var a=n[o];mr(e,a)||r(e,a,i(t,a))}},zr=Ir,Fr=function(e,t){var n,r,i,o,a,s=e.target,c=e.global,l=e.stat;if(n=c?xr:l?xr[s]||Ar(s,{}):(xr[s]||{}).prototype)for(r in t){if(o=t[r],i=e.noTargetGet?(a=Er(n,r))&&a.value:n[r],!zr(c?r:s+(l?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;Nr(o,i)}(e.sham||i&&i.sham)&&_r(o,"sham",!0),Rr(n,r,o,e)}},Gr=cr,Vr=lr,Hr=Object.keys||function(e){return Gr(e,Vr)},Br=h,qr=M,Zr=b,Ur=p,Wr=Hr,Kr=gr,Xr=y,Yr=Ae,$r=F,Jr=Object.assign,Qr=Object.defineProperty,ei=qr([].concat),ti=!Jr||Ur((function(){if(Br&&1!==Jr({b:1},Jr(Qr({},"a",{enumerable:!0,get:function(){Qr(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=Jr({},e)[n]||Wr(Jr({},t)).join("")!=r}))?function(e,t){for(var n=Yr(e),r=arguments.length,i=1,o=Kr.f,a=Xr.f;r>i;)for(var s,c=$r(arguments[i++]),l=o?ei(Wr(c),o(c)):Wr(c),u=l.length,f=0;u>f;)s=l[f++],Br&&!Zr(a,c,s)||(n[s]=c[s]);return n}:Jr;Fr({target:"Object",stat:!0,forced:Object.assign!==ti},{assign:ti});var ni={};ni[tt("toStringTag")]="z";var ri="[object z]"===String(ni),ii=g,oi=ri,ai=Z,si=E,ci=tt("toStringTag"),li=ii.Object,ui="Arguments"==si(function(){return arguments}()),fi=oi?si:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=li(e),ci))?n:ui?si(t):"Object"==(r=si(t))&&ai(t.callee)?"Arguments":r},gi=fi,vi=ri?{}.toString:function(){return"[object "+gi(this)+"]"},pi=ri,hi=Bt.exports,di=vi;pi||hi(Object.prototype,"toString",di,{unsafe:!0});var bi=dt("span").classList,yi=bi&&bi.constructor&&bi.constructor.prototype,mi=yi===Object.prototype?void 0:yi,Li=Le,Di=M(M.bind),Oi=E,Si=Array.isArray||function(e){return"Array"==Oi(e)},wi=M,ji=p,Pi=Z,ki=fi,Ti=Yt,Mi=function(){},Ci=[],Ii=$("Reflect","construct"),xi=/^\s*(?:class|function)\b/,Ei=wi(xi.exec),_i=!xi.exec(Mi),Ri=function(e){if(!Pi(e))return!1;try{return Ii(Mi,Ci,e),!0}catch(e){return!1}},Ai=!Ii||ji((function(){var e;return Ri(Ri.call)||!Ri(Object)||!Ri((function(){e=!0}))||e}))?function(e){if(!Pi(e))return!1;switch(ki(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return _i||!!Ei(xi,Ti(e))}:Ri,Ni=g,zi=Si,Fi=Ai,Gi=W,Vi=tt("species"),Hi=Ni.Array,Bi=function(e){var t;return zi(e)&&(t=e.constructor,(Fi(t)&&(t===Hi||zi(t.prototype))||Gi(t)&&null===(t=t[Vi]))&&(t=void 0)),void 0===t?Hi:t},qi=function(e,t){return Li(e),void 0===t?e:Di?Di(e,t):function(){return e.apply(t,arguments)}},Zi=F,Ui=Ae,Wi=$n,Ki=function(e,t){return new(Bi(e))(0===t?0:t)},Xi=M([].push),Yi=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(c,l,u,f){for(var g,v,p=Ui(c),h=Zi(p),d=qi(l,u),b=Wi(h),y=0,m=f||Ki,L=t?m(c,b):n||a?m(c,0):void 0;b>y;y++)if((s||y in h)&&(v=d(g=h[y],y,p),e))if(t)L[y]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return y;case 2:Xi(L,g)}else switch(e){case 4:return!1;case 7:Xi(L,g)}return o?-1:r||i?i:L}},$i={forEach:Yi(0),map:Yi(1),filter:Yi(2),some:Yi(3),every:Yi(4),find:Yi(5),findIndex:Yi(6),filterReject:Yi(7)},Ji=p,Qi=$i.forEach,eo=g,to={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},no=mi,ro=function(e,t){var n=[][e];return!!n&&Ji((function(){n.call(null,t||function(){throw 1},1)}))}("forEach")?[].forEach:function(e){return Qi(this,e,arguments.length>1?arguments[1]:void 0)},io=Ht,oo=function(e){if(e&&e.forEach!==ro)try{io(e,"forEach",ro)}catch(t){e.forEach=ro}};for(var ao in to)to[ao]&&oo(eo[ao]&&eo[ao].prototype);function so(e,t){for(var n in t.prototype)e.prototype[n]=t.prototype[n]}function co(e){(e=e||window.event).stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault?e.preventDefault():e.returnValue=!1}function lo(e){(e=e||window.event).stopPropagation?e.stopPropagation():e.cancelBubble=!0}oo(no);var uo=p,fo=oe,go=tt("species"),vo=$i.map;Fr({target:"Array",proto:!0,forced:!function(e){return fo>=51||!uo((function(){var t=[];return(t.constructor={})[go]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}("map")},{map:function(e){return vo(this,e,arguments.length>1?arguments[1]:void 0)}});var po=fi,ho=g.String,bo=V,yo=function(e){if("Symbol"===po(e))throw TypeError("Cannot convert a Symbol value to a string");return ho(e)},mo=/"/g,Lo=M("".replace),Do=p,Oo=function(e,t,n,r){var i=yo(bo(e)),o="<"+t;return""!==n&&(o+=" "+n+'="'+Lo(yo(r),mo,"&quot;")+'"'),o+">"+i+"</"+t+">"};Fr({target:"String",proto:!0,forced:function(e){return Do((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}("anchor")},{anchor:function(e){return Oo(this,"a","name",e)}});var So="block",wo="none",jo="absolute",Po="marker-label",ko="marker-label-event",To=function(t){r(o,t);var i=c(o);function o(t){var n,r=t.clickable,a=void 0===r||r,s=t.cursor,c=void 0===s?"pointer":s,l=t.draggable,u=void 0===l||l,f=t.labelAnchor,g=void 0===f?new google.maps.Point(0,0):f,v=t.labelClass,p=void 0===v?Po:v,h=t.labelContent,d=t.position,b=t.opacity,y=void 0===b?1:b,m=t.map,L=t.labelZIndexOffset,D=void 0===L?1:L,O=t.visible,S=void 0===O||O,w=t.zIndex,j=void 0===w?0:w;return e(this,o),(n=i.call(this)).createElements(),n.anchor=g,n.content=h,n.className=p,n.clickable=a,n.cursor=c,n.draggable=u,d instanceof google.maps.LatLng?n.position=d:n.position=new google.maps.LatLng(d),n.opacity=y,n.visible=S,n.zIndex=j,n.zIndexOffset=D,m&&n.setMap(m),n}return n(o,[{key:"content",get:function(){return this.labelDiv.innerHTML},set:function(e){"string"==typeof e?(this.labelDiv.innerHTML=e,this.eventDiv.innerHTML=e):(this.labelDiv.innerHTML="",this.labelDiv.appendChild(e),this.eventDiv.innerHTML="",this.eventDiv.appendChild(e.cloneNode(!0)))}},{key:"className",get:function(){return this.labelDiv.className},set:function(e){this.labelDiv.className=e,this.labelDiv.classList.add(Po),this.eventDiv.className=e,this.eventDiv.classList.add(ko)}},{key:"cursor",get:function(){return this.isInteractive?this.hoverCursor:"inherit"},set:function(e){this.hoverCursor=e,this.isInteractive&&(this.eventDiv.style.cursor=e)}},{key:"isInteractive",get:function(){return this.draggable||this.clickable}},{key:"opacity",set:function(e){this.labelDiv.style.opacity=String(e)}},{key:"title",set:function(e){this.eventDiv.title=e}},{key:"visible",set:function(e){e?(this.labelDiv.style.display=So,this.eventDiv.style.display=So):(this.labelDiv.style.display=wo,this.eventDiv.style.display=wo)}},{key:"onAdd",value:function(){this.getPanes().markerLayer.appendChild(this.labelDiv),this.getPanes().overlayMouseTarget.appendChild(this.eventDiv)}},{key:"draw",value:function(){var e=this.getProjection().fromLatLngToDivPixel(this.position),t=Math.round(e.x+this.anchor.x),n=Math.round(e.y+this.anchor.y);this.labelDiv.style.left="".concat(t,"px"),this.labelDiv.style.top="".concat(n,"px"),this.eventDiv.style.left=this.labelDiv.style.left,this.eventDiv.style.top=this.labelDiv.style.top;var r=(this.zIndex||Math.ceil(e.y))+this.zIndexOffset;this.labelDiv.style.zIndex=String(r),this.eventDiv.style.zIndex=String(r),this.eventDiv.style.display=this.isInteractive?this.eventDiv.style.display:wo,this.eventDiv.style.cursor=this.cursor}},{key:"addDomListener",value:function(e,t){return google.maps.event.addDomListener(this.eventDiv,e,t)}},{key:"onRemove",value:function(){this.labelDiv.parentNode.removeChild(this.labelDiv),this.eventDiv.parentNode.removeChild(this.eventDiv)}},{key:"createElements",value:function(){this.labelDiv=document.createElement("div"),this.eventDiv=document.createElement("div"),this.labelDiv.classList.add(Po),this.labelDiv.classList.add(ko),this.labelDiv.style.position=jo,this.eventDiv.style.position=jo,this.eventDiv.style.opacity="0.01"}}]),o}((function t(){e(this,t),so(t,google.maps.OverlayView)})),Mo="click",Co="dblclick",Io="drag",xo="dragend",Eo="dragstart",_o="mousedown",Ro="mouseover",Ao="mouseout",No="mouseup";return function(t){r(s,t);var o=c(s);function s(t){var n;return e(this,s),(n=o.call(this,function(e,t){var n=Object.assign({},e);return t.forEach((function(e){return delete n[e]})),n}(t,["labelAnchor","labelZIndexOffset","labelClass","labelContent"]))).isTouchScreen=!1,n.isDraggingLabel=!1,n.isMouseDownOnLabel=!1,n.shouldIgnoreClick=!1,n.label=new To(Object.assign({},t)),n.propertyListeners=[google.maps.event.addListener(a(n),"clickable_changed",n.handleClickableOrDraggableChange),google.maps.event.addListener(a(n),"cursor_changed",(function(){n.label.cursor=n.getCursor()})),google.maps.event.addListener(a(n),"draggable_changed",n.handleClickableOrDraggableChange),google.maps.event.addListener(a(n),"position_changed",(function(){n.label.position=n.getPosition()})),google.maps.event.addListener(a(n),"opacity_changed",(function(){n.label.opacity=n.getOpacity()})),google.maps.event.addListener(a(n),"title_changed",(function(){n.label.title=n.getTitle()})),google.maps.event.addListener(a(n),"visible_changed",(function(){n.label.visible=n.getVisible()})),google.maps.event.addListener(a(n),"zindex_changed",(function(){n.label.zIndex=n.getZIndex(),n.label.draw()}))],n}return n(s,[{key:"isInteractive",get:function(){return this.getClickable()||this.getDraggable()}},{key:"labelContent",get:function(){return this.label.content},set:function(e){this.label.content=e}},{key:"labelClass",get:function(){return this.label.className},set:function(e){this.label.className=e}},{key:"setMap",value:function(e){var t=this;l(i(s.prototype),"setMap",this).call(this,e),setTimeout((function(){t.label.setMap(e),t.removeInteractiveListeners(),e&&t.addInteractiveListeners()}))}},{key:"handleClickableOrDraggableChange",value:function(){this.label.clickable=this.getClickable(),this.label.draggable=this.getDraggable(),this.isInteractive?this.addInteractiveListeners():this.removeInteractiveListeners()}},{key:"removeInteractiveListeners",value:function(){this.interactiveListeners&&(this.interactiveListeners.forEach((function(e){return google.maps.event.removeListener(e)})),this.interactiveListeners=null)}},{key:"addInteractiveListeners",value:function(){var e=this;if(!this.interactiveListeners){if(!this.getMap())return;this.interactiveListeners=[this.label.addDomListener(Ro,(function(t){e.isTouchScreen||(google.maps.event.trigger(e,Ro,{latLng:e.getPosition()}),co(t))})),this.label.addDomListener(Ao,(function(t){e.isTouchScreen||(e.mouseOutTimeout&&clearTimeout(e.mouseOutTimeout),e.isMouseDownOnLabel?e.mouseOutTimeout=setTimeout((function(){e.isMouseDownOnLabel&&(e.isMouseDownOnLabel=!1,google.maps.event.trigger(e,No,{latLng:e.getPosition()}),e.isDraggingLabel&&(e.isDraggingLabel=!1,e.shouldIgnoreClick=!0,google.maps.event.trigger(e,xo,{latLng:e.getPosition()}))),google.maps.event.trigger(e,Ao,{latLng:e.getPosition()})}),200):google.maps.event.trigger(e,Ao,{latLng:e.getPosition()}),co(t))})),this.label.addDomListener(_o,(function(t){e.isDraggingLabel=!1,e.isMouseDownOnLabel=!0,google.maps.event.trigger(e,_o,{latLng:e.getPosition()}),e.isTouchScreen||co(t)})),this.label.addDomListener(No,(function(t){var n={latLng:e.getPosition()};e.isMouseDownOnLabel&&(e.isMouseDownOnLabel=!1,google.maps.event.trigger(e,No,n),e.isDraggingLabel&&(e.isDraggingLabel=!1,e.shouldIgnoreClick=!0,google.maps.event.trigger(e,xo,n)),e.getDraggable()||co(t))})),this.label.addDomListener(Mo,(function(t){e.shouldIgnoreClick?e.shouldIgnoreClick=!1:google.maps.event.trigger(e,Mo,{latLng:e.getPosition()}),co(t)})),this.label.addDomListener(Co,(function(t){google.maps.event.trigger(e,Co,{latLng:e.getPosition()}),co(t)})),google.maps.event.addListener(this.getMap(),"mousemove",(function(t){if(e.isMouseDownOnLabel&&e.getDraggable())if(e.isDraggingLabel){var n=new google.maps.LatLng(t.latLng.lat()-e.eventOffset.y,t.latLng.lng()-e.eventOffset.x);google.maps.event.trigger(e,Io,Object.assign(Object.assign({},t),{latLng:n}))}else e.isDraggingLabel=!0,e.eventOffset=new google.maps.Point(t.latLng.lng()-e.getPosition().lng(),t.latLng.lat()-e.getPosition().lat()),google.maps.event.trigger(e,Eo,Object.assign(Object.assign({},t),{latLng:e.getPosition()}))})),google.maps.event.addListener(this,Eo,(function(){e.label.zIndex=1e6})),google.maps.event.addListener(this,Io,(function(t){var n=t.latLng;e.setPosition(n)})),google.maps.event.addListener(this,xo,(function(){e.label.zIndex=e.getZIndex(),e.label.draw()})),this.label.addDomListener("touchstart",(function(t){e.isTouchScreen=!0,lo(t)})),this.label.addDomListener("touchmove",(function(e){lo(e)})),this.label.addDomListener("touchend",(function(e){lo(e)}))]}}}]),s}((function t(n){e(this,t),so(t,google.maps.Marker),google.maps.Marker.call(this,n)}))}));
//# sourceMappingURL=index.umd.js.map
