var markerWithLabel=function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,"symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?a:String(a)),i)}var o,a}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)}(this,n)}}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},c.apply(this,arguments)}function g(e,t){for(var n in t.prototype)e.prototype[n]=t.prototype[n]}function u(e){(e=e||window.event).stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault?e.preventDefault():e.returnValue=!1}function v(e){(e=e||window.event).stopPropagation?e.stopPropagation():e.cancelBubble=!0}var h="block",d="none",f="absolute",b="marker-label",p=function(e){o(a,e);var n=l(a);function a(e){var i,o=e.clickable,s=void 0===o||o,r=e.cursor,l=void 0===r?"pointer":r,c=e.draggable,g=void 0===c||c,u=e.labelAnchor,v=void 0===u?new google.maps.Point(0,0):u,h=e.labelClass,d=void 0===h?b:h,f=e.labelContent,p=e.position,y=e.opacity,m=void 0===y?1:y,L=e.map,D=e.labelZIndexOffset,O=void 0===D?1:D,k=e.visible,w=void 0===k||k,P=e.zIndex,I=void 0===P?0:P;return t(this,a),(i=n.call(this)).createElements(),i.anchor=v,i.content=f,i.className=d,i.clickable=s,i.cursor=l,i.draggable=g,p instanceof google.maps.LatLng?i.position=p:i.position=new google.maps.LatLng(p),i.opacity=m,i.visible=w,i.zIndex=I,i.zIndexOffset=O,L&&i.setMap(L),i}return i(a,[{key:"element",get:function(){return this.labelDiv}},{key:"content",get:function(){return this.labelDiv.innerHTML},set:function(e){"string"==typeof e?(this.labelDiv.innerHTML=e,this.eventDiv.innerHTML=e):(this.labelDiv.innerHTML="",this.labelDiv.appendChild(e),this.eventDiv.innerHTML="",this.eventDiv.appendChild(e.cloneNode(!0)))}},{key:"className",get:function(){return this.labelDiv.className},set:function(e){this.labelDiv.className=e,this.labelDiv.classList.add(b),this.eventDiv.className=e,this.eventDiv.classList.add("marker-label-event")}},{key:"cursor",get:function(){return this.isInteractive?this.hoverCursor:"inherit"},set:function(e){this.hoverCursor=e,this.isInteractive&&(this.eventDiv.style.cursor=e)}},{key:"isInteractive",get:function(){return this.draggable||this.clickable}},{key:"opacity",set:function(e){this.labelDiv.style.opacity=String(e)}},{key:"title",set:function(e){this.eventDiv.title=e}},{key:"visible",set:function(e){e?(this.labelDiv.style.display=h,this.eventDiv.style.display=h):(this.labelDiv.style.display=d,this.eventDiv.style.display=d)}},{key:"onAdd",value:function(){this.getPanes().markerLayer.appendChild(this.labelDiv),this.getPanes().overlayMouseTarget.appendChild(this.eventDiv)}},{key:"draw",value:function(){var e=this.getProjection().fromLatLngToDivPixel(this.position),t=Math.round(e.x+this.anchor.x),n=Math.round(e.y+this.anchor.y);this.labelDiv.style.left="".concat(t,"px"),this.labelDiv.style.top="".concat(n,"px"),this.eventDiv.style.left=this.labelDiv.style.left,this.eventDiv.style.top=this.labelDiv.style.top;var i=(this.zIndex||Math.ceil(e.y))+this.zIndexOffset;this.labelDiv.style.zIndex=String(i),this.eventDiv.style.zIndex=String(i),this.eventDiv.style.display=this.isInteractive?this.eventDiv.style.display:d,this.eventDiv.style.cursor=this.cursor}},{key:"addDomListener",value:function(e,t){var n=this;return this.eventDiv.addEventListener(e,t),{remove:function(){return n.eventDiv.removeEventListener(e,t)}}}},{key:"onRemove",value:function(){this.labelDiv.parentNode.removeChild(this.labelDiv),this.eventDiv.parentNode.removeChild(this.eventDiv)}},{key:"createElements",value:function(){this.labelDiv=document.createElement("div"),this.eventDiv=document.createElement("div"),this.labelDiv.style.position=f,this.eventDiv.style.position=f,this.eventDiv.style.opacity="0.01"}}]),a}(i((function e(){t(this,e),g(e,google.maps.OverlayView)}))),y="click",m="dblclick",L="drag",D="dragend",O="dragstart",k="mousedown",w="mouseover",P="mouseout",I="mouseup",C=function(e){o(s,e);var n=l(s);function s(e){var i,o,a,l;return t(this,s),(i=n.call(this,(o=e,a=["labelAnchor","labelZIndexOffset","labelClass","labelContent"],l=Object.assign({},o),a.forEach((function(e){return delete l[e]})),l))).isTouchScreen=!1,i.isDraggingLabel=!1,i.isMouseDownOnLabel=!1,i.shouldIgnoreClick=!1,i.label=new p(Object.assign({},e)),i.propertyListeners=[google.maps.event.addListener(r(i),"clickable_changed",i.handleClickableOrDraggableChange),google.maps.event.addListener(r(i),"cursor_changed",(function(){i.label.cursor=i.getCursor()})),google.maps.event.addListener(r(i),"draggable_changed",i.handleClickableOrDraggableChange),google.maps.event.addListener(r(i),"position_changed",(function(){i.label.position=i.getPosition()})),google.maps.event.addListener(r(i),"opacity_changed",(function(){i.label.opacity=i.getOpacity()})),google.maps.event.addListener(r(i),"title_changed",(function(){i.label.title=i.getTitle()})),google.maps.event.addListener(r(i),"visible_changed",(function(){i.label.visible=i.getVisible()})),google.maps.event.addListener(r(i),"zindex_changed",(function(){i.label.zIndex=i.getZIndex(),i.label.draw()}))],i}return i(s,[{key:"isInteractive",get:function(){return this.getClickable()||this.getDraggable()}},{key:"labelElement",get:function(){return this.label.element}},{key:"labelContent",get:function(){return this.label.content},set:function(e){this.label.content=e}},{key:"labelClass",get:function(){return this.label.className},set:function(e){this.label.className=e}},{key:"setMap",value:function(e){var t=this;c(a(s.prototype),"setMap",this).call(this,e),setTimeout((function(){t.label.setMap(e),t.removeInteractiveListeners(),e&&t.addInteractiveListeners()}))}},{key:"handleClickableOrDraggableChange",value:function(){this.label.clickable=this.getClickable(),this.label.draggable=this.getDraggable(),this.isInteractive?this.addInteractiveListeners():this.removeInteractiveListeners()}},{key:"removeInteractiveListeners",value:function(){this.interactiveListeners&&(this.interactiveListeners.forEach((function(e){return google.maps.event.removeListener(e)})),this.interactiveListeners=null)}},{key:"addInteractiveListeners",value:function(){var e=this;if(!this.interactiveListeners){if(!this.getMap())return;this.interactiveListeners=[this.label.addDomListener(w,(function(t){e.isTouchScreen||(google.maps.event.trigger(e,w,{latLng:e.getPosition()}),u(t))})),this.label.addDomListener(P,(function(t){e.isTouchScreen||(e.mouseOutTimeout&&clearTimeout(e.mouseOutTimeout),e.isMouseDownOnLabel?e.mouseOutTimeout=setTimeout((function(){e.isMouseDownOnLabel&&(e.isMouseDownOnLabel=!1,google.maps.event.trigger(e,I,{latLng:e.getPosition()}),e.isDraggingLabel&&(e.isDraggingLabel=!1,e.shouldIgnoreClick=!0,google.maps.event.trigger(e,D,{latLng:e.getPosition()}))),google.maps.event.trigger(e,P,{latLng:e.getPosition()})}),200):google.maps.event.trigger(e,P,{latLng:e.getPosition()}),u(t))})),this.label.addDomListener(k,(function(t){e.isDraggingLabel=!1,e.isMouseDownOnLabel=!0,google.maps.event.trigger(e,k,{latLng:e.getPosition()}),e.isTouchScreen||u(t)})),this.label.addDomListener(I,(function(t){var n={latLng:e.getPosition()};e.isMouseDownOnLabel&&(e.isMouseDownOnLabel=!1,google.maps.event.trigger(e,I,n),e.isDraggingLabel&&(e.isDraggingLabel=!1,e.shouldIgnoreClick=!0,google.maps.event.trigger(e,D,n)),e.getDraggable()||u(t))})),this.label.addDomListener(y,(function(t){e.shouldIgnoreClick?e.shouldIgnoreClick=!1:google.maps.event.trigger(e,y,{latLng:e.getPosition()}),u(t)})),this.label.addDomListener(m,(function(t){google.maps.event.trigger(e,m,{latLng:e.getPosition()}),u(t)})),google.maps.event.addListener(this.getMap(),"mousemove",(function(t){if(e.isMouseDownOnLabel&&e.getDraggable())if(e.isDraggingLabel){var n=new google.maps.LatLng(t.latLng.lat()-e.eventOffset.y,t.latLng.lng()-e.eventOffset.x);google.maps.event.trigger(e,L,Object.assign(Object.assign({},t),{latLng:n}))}else e.isDraggingLabel=!0,e.eventOffset=new google.maps.Point(t.latLng.lng()-e.getPosition().lng(),t.latLng.lat()-e.getPosition().lat()),google.maps.event.trigger(e,O,Object.assign(Object.assign({},t),{latLng:e.getPosition()}))})),google.maps.event.addListener(this,O,(function(){e.label.zIndex=1e6})),google.maps.event.addListener(this,L,(function(t){var n=t.latLng;e.setPosition(n)})),google.maps.event.addListener(this,D,(function(){e.label.zIndex=e.getZIndex(),e.label.draw()})),this.label.addDomListener("touchstart",(function(t){e.isTouchScreen=!0,v(t)})),this.label.addDomListener("touchmove",(function(e){v(e)})),this.label.addDomListener("touchend",(function(e){v(e)}))]}}}]),s}(i((function e(n){t(this,e),g(e,google.maps.Marker),google.maps.Marker.call(this,n)})));return e.MarkerWithLabel=C,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
//# sourceMappingURL=index.min.js.map
