var markerWithLabel=function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?l(e):t}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return r(this,n)}}function g(e,t,n){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e,t){for(var n in t.prototype)e.prototype[n]=t.prototype[n]}function v(e){(e=e||window.event).stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault?e.preventDefault():e.returnValue=!1}function h(e){(e=e||window.event).stopPropagation?e.stopPropagation():e.cancelBubble=!0}var d="block",f="none",b="absolute",p="marker-label",m=function(e){o(a,e);var n=c(a);function a(e){var i,o=e.clickable,s=void 0===o||o,l=e.cursor,r=void 0===l?"pointer":l,c=e.draggable,g=void 0===c||c,u=e.labelAnchor,v=void 0===u?new google.maps.Point(0,0):u,h=e.labelClass,d=void 0===h?p:h,f=e.labelContent,b=e.position,m=e.opacity,y=void 0===m?1:m,L=e.map,D=e.labelZIndexOffset,k=void 0===D?1:D,O=e.visible,P=void 0===O||O,w=e.zIndex,I=void 0===w?0:w;return t(this,a),(i=n.call(this)).createElements(),i.anchor=v,i.content=f,i.className=d,i.clickable=s,i.cursor=r,i.draggable=g,b instanceof google.maps.LatLng?i.position=b:i.position=new google.maps.LatLng(b),i.opacity=y,i.visible=P,i.zIndex=I,i.zIndexOffset=k,L&&i.setMap(L),i}return i(a,[{key:"element",get:function(){return this.labelDiv}},{key:"content",get:function(){return this.labelDiv.innerHTML},set:function(e){"string"==typeof e?(this.labelDiv.innerHTML=e,this.eventDiv.innerHTML=e):(this.labelDiv.innerHTML="",this.labelDiv.appendChild(e),this.eventDiv.innerHTML="",this.eventDiv.appendChild(e.cloneNode(!0)))}},{key:"className",get:function(){return this.labelDiv.className},set:function(e){this.labelDiv.className=e,this.labelDiv.classList.add(p),this.eventDiv.className=e,this.eventDiv.classList.add("marker-label-event")}},{key:"cursor",get:function(){return this.isInteractive?this.hoverCursor:"inherit"},set:function(e){this.hoverCursor=e,this.isInteractive&&(this.eventDiv.style.cursor=e)}},{key:"isInteractive",get:function(){return this.draggable||this.clickable}},{key:"opacity",set:function(e){this.labelDiv.style.opacity=String(e)}},{key:"title",set:function(e){this.eventDiv.title=e}},{key:"visible",set:function(e){e?(this.labelDiv.style.display=d,this.eventDiv.style.display=d):(this.labelDiv.style.display=f,this.eventDiv.style.display=f)}},{key:"onAdd",value:function(){this.getPanes().markerLayer.appendChild(this.labelDiv),this.getPanes().overlayMouseTarget.appendChild(this.eventDiv)}},{key:"draw",value:function(){var e=this.getProjection().fromLatLngToDivPixel(this.position),t=Math.round(e.x+this.anchor.x),n=Math.round(e.y+this.anchor.y);this.labelDiv.style.left="".concat(t,"px"),this.labelDiv.style.top="".concat(n,"px"),this.eventDiv.style.left=this.labelDiv.style.left,this.eventDiv.style.top=this.labelDiv.style.top;var i=(this.zIndex||Math.ceil(e.y))+this.zIndexOffset;this.labelDiv.style.zIndex=String(i),this.eventDiv.style.zIndex=String(i),this.eventDiv.style.display=this.isInteractive?this.eventDiv.style.display:f,this.eventDiv.style.cursor=this.cursor}},{key:"addDomListener",value:function(e,t){return google.maps.event.addDomListener(this.eventDiv,e,t)}},{key:"onRemove",value:function(){this.labelDiv.parentNode.removeChild(this.labelDiv),this.eventDiv.parentNode.removeChild(this.eventDiv)}},{key:"createElements",value:function(){this.labelDiv=document.createElement("div"),this.eventDiv=document.createElement("div"),this.labelDiv.style.position=b,this.eventDiv.style.position=b,this.eventDiv.style.opacity="0.01"}}]),a}(i((function e(){t(this,e),u(e,google.maps.OverlayView)}))),y="click",L="dblclick",D="drag",k="dragend",O="dragstart",P="mousedown",w="mouseover",I="mouseout",C="mouseup",M=function(e){o(s,e);var n=c(s);function s(e){var i,o,a,r;return t(this,s),(i=n.call(this,(o=e,a=["labelAnchor","labelZIndexOffset","labelClass","labelContent"],r=Object.assign({},o),a.forEach((function(e){return delete r[e]})),r))).isTouchScreen=!1,i.isDraggingLabel=!1,i.isMouseDownOnLabel=!1,i.shouldIgnoreClick=!1,i.label=new m(Object.assign({},e)),i.propertyListeners=[google.maps.event.addListener(l(i),"clickable_changed",i.handleClickableOrDraggableChange),google.maps.event.addListener(l(i),"cursor_changed",(function(){i.label.cursor=i.getCursor()})),google.maps.event.addListener(l(i),"draggable_changed",i.handleClickableOrDraggableChange),google.maps.event.addListener(l(i),"position_changed",(function(){i.label.position=i.getPosition()})),google.maps.event.addListener(l(i),"opacity_changed",(function(){i.label.opacity=i.getOpacity()})),google.maps.event.addListener(l(i),"title_changed",(function(){i.label.title=i.getTitle()})),google.maps.event.addListener(l(i),"visible_changed",(function(){i.label.visible=i.getVisible()})),google.maps.event.addListener(l(i),"zindex_changed",(function(){i.label.zIndex=i.getZIndex(),i.label.draw()}))],i}return i(s,[{key:"isInteractive",get:function(){return this.getClickable()||this.getDraggable()}},{key:"labelElement",get:function(){return this.label.element}},{key:"labelContent",get:function(){return this.label.content},set:function(e){this.label.content=e}},{key:"labelClass",get:function(){return this.label.className},set:function(e){this.label.className=e}},{key:"setMap",value:function(e){var t=this;g(a(s.prototype),"setMap",this).call(this,e),setTimeout((function(){t.label.setMap(e),t.removeInteractiveListeners(),e&&t.addInteractiveListeners()}))}},{key:"handleClickableOrDraggableChange",value:function(){this.label.clickable=this.getClickable(),this.label.draggable=this.getDraggable(),this.isInteractive?this.addInteractiveListeners():this.removeInteractiveListeners()}},{key:"removeInteractiveListeners",value:function(){this.interactiveListeners&&(this.interactiveListeners.forEach((function(e){return google.maps.event.removeListener(e)})),this.interactiveListeners=null)}},{key:"addInteractiveListeners",value:function(){var e=this;if(!this.interactiveListeners){if(!this.getMap())return;this.interactiveListeners=[this.label.addDomListener(w,(function(t){e.isTouchScreen||(google.maps.event.trigger(e,w,{latLng:e.getPosition()}),v(t))})),this.label.addDomListener(I,(function(t){e.isTouchScreen||(e.mouseOutTimeout&&clearTimeout(e.mouseOutTimeout),e.isMouseDownOnLabel?e.mouseOutTimeout=setTimeout((function(){e.isMouseDownOnLabel&&(e.isMouseDownOnLabel=!1,google.maps.event.trigger(e,C,{latLng:e.getPosition()}),e.isDraggingLabel&&(e.isDraggingLabel=!1,e.shouldIgnoreClick=!0,google.maps.event.trigger(e,k,{latLng:e.getPosition()}))),google.maps.event.trigger(e,I,{latLng:e.getPosition()})}),200):google.maps.event.trigger(e,I,{latLng:e.getPosition()}),v(t))})),this.label.addDomListener(P,(function(t){e.isDraggingLabel=!1,e.isMouseDownOnLabel=!0,google.maps.event.trigger(e,P,{latLng:e.getPosition()}),e.isTouchScreen||v(t)})),this.label.addDomListener(C,(function(t){var n={latLng:e.getPosition()};e.isMouseDownOnLabel&&(e.isMouseDownOnLabel=!1,google.maps.event.trigger(e,C,n),e.isDraggingLabel&&(e.isDraggingLabel=!1,e.shouldIgnoreClick=!0,google.maps.event.trigger(e,k,n)),e.getDraggable()||v(t))})),this.label.addDomListener(y,(function(t){e.shouldIgnoreClick?e.shouldIgnoreClick=!1:google.maps.event.trigger(e,y,{latLng:e.getPosition()}),v(t)})),this.label.addDomListener(L,(function(t){google.maps.event.trigger(e,L,{latLng:e.getPosition()}),v(t)})),google.maps.event.addListener(this.getMap(),"mousemove",(function(t){if(e.isMouseDownOnLabel&&e.getDraggable())if(e.isDraggingLabel){var n=new google.maps.LatLng(t.latLng.lat()-e.eventOffset.y,t.latLng.lng()-e.eventOffset.x);google.maps.event.trigger(e,D,Object.assign(Object.assign({},t),{latLng:n}))}else e.isDraggingLabel=!0,e.eventOffset=new google.maps.Point(t.latLng.lng()-e.getPosition().lng(),t.latLng.lat()-e.getPosition().lat()),google.maps.event.trigger(e,O,Object.assign(Object.assign({},t),{latLng:e.getPosition()}))})),google.maps.event.addListener(this,O,(function(){e.label.zIndex=1e6})),google.maps.event.addListener(this,D,(function(t){var n=t.latLng;e.setPosition(n)})),google.maps.event.addListener(this,k,(function(){e.label.zIndex=e.getZIndex(),e.label.draw()})),this.label.addDomListener("touchstart",(function(t){e.isTouchScreen=!0,h(t)})),this.label.addDomListener("touchmove",(function(e){h(e)})),this.label.addDomListener("touchend",(function(e){h(e)}))]}}}]),s}(i((function e(n){t(this,e),u(e,google.maps.Marker),google.maps.Marker.call(this,n)})));return e.MarkerWithLabel=M,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
//# sourceMappingURL=index.min.js.map
